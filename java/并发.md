# java 并发

## 线程和线程

### 知识

1. 进程
2. 线程
3. 内核级线程和用户级线程
4. 线程的状态
5. 线程的切换

### 问题

1. 进程和线程的区别
2. 为什么要有线程
3. 为什么要减少切换线程
4. 进程开销为什么比线程大
5. Java线程有哪些状态？如何转换？
6. Java线程是内核级线程还是用户级线程？

## CAS和原子操作

### 知识

1. 原子操作

2. 竞争条件
   * 竞争条件(race condition)，也叫竞争灾难(race hazard)
   * 临界区(critical section)：发生竞争的区域（访问共享资源）
   * 解决竞争的方法
     * 减少竞争
       * ThreadLocal
     * 实现原子操作
       * CAS：CPU指令，设置一个地址的值，要求指令的使用方必须知道这个地方原来的值
     * TAS指令
       * Test-And-Set：可以看作一个CAS的特例
     * 互斥
       * Mutual Exclusion：让最多一个线程进入临界区
       * 锁

3. CAS(Compare And Swap或者Compare And Set)
   * 底层类Unsafe: jdk.internal.misc.Unsafe
   * CMPXCHG指令：x86/64
   * ARM机器

4. ABA问题

5. Atomic操作

### 问题

1. 竞争条件是怎么产生的？解决竞争条件有哪些方法？
2. 原子操作是怎样实现的？
3. Java的CAS是如何实现的？
4. CAS的ABA问题是怎么回事？
5. AtomicInterger类是如何实现的？
6. AtomicStampedReference解决什么问题？内部如何实现？

## 同步器

### 知识

1. synchronized
2. AQS
   - 基础知识
   - 工作原理
   - AQS队列（CLH）
3. Monitor
4. ReentrantLock
5. Semaphore-信号量
6. CyclicBarrier
7. CountDownLatch
8. Phaser
9. Exchanger

### 问题

1. 什么是同步？
2. 简述Java有哪些同步器
3. synchronized是如何实现的？
4. ReentrantLock和synchronized的区别
5. 为什么需要AbstractQueuedSynchronized？
6. 偏向锁、轻量级锁和重量级锁是怎么回事？

## 内存一致性模型

## BlockingQueue

## 无锁编程







